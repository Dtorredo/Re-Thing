(()=>{var e={};e.id=279,e.ids=[279],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1758:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,5770,23)),Promise.resolve().then(r.t.bind(r,8204,23)),Promise.resolve().then(r.t.bind(r,2576,23)),Promise.resolve().then(r.t.bind(r,9507,23)),Promise.resolve().then(r.t.bind(r,1283,23)),Promise.resolve().then(r.t.bind(r,5147,23)),Promise.resolve().then(r.t.bind(r,3163,23)),Promise.resolve().then(r.t.bind(r,9773,23))},1926:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,140,23)),Promise.resolve().then(r.t.bind(r,8946,23)),Promise.resolve().then(r.t.bind(r,4178,23)),Promise.resolve().then(r.t.bind(r,6229,23)),Promise.resolve().then(r.t.bind(r,1281,23)),Promise.resolve().then(r.t.bind(r,3833,23)),Promise.resolve().then(r.t.bind(r,7857,23)),Promise.resolve().then(r.t.bind(r,4947,23))},2051:(e,t,r)=>{Promise.resolve().then(r.bind(r,3313))},2241:(e,t,r)=>{Promise.resolve().then(r.bind(r,6127))},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3178:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(1540);let n=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},6127:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(1129).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/dtorredo/Code/Re-Thing/src/app/bg-remover/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/dtorredo/Code/Re-Thing/src/app/bg-remover/page.tsx","default")},6669:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(5781),n=r(3072);function a(){let[e,t]=(0,n.useState)(null),[r,a]=(0,n.useState)(30),[i,o]=(0,n.useState)(3),[l,d]=(0,n.useState)(!1),[c,u]=(0,n.useState)(0),m=(0,n.useRef)(null),h=(0,n.useRef)(null),g=(0,n.useRef)(null),p=(e,t,r,s)=>{let n=new Uint8ClampedArray(t*r),a=new Uint8ClampedArray(t*r),i=[];for(let e=0;e<t;e++)b(i,a,e,0,t),b(i,a,e,r-1,t);for(let e=0;e<r;e++)b(i,a,0,e,t),b(i,a,t-1,e,t);for(;i.length>0;){let[o,l]=i.shift(),d=l*t+o;if(1!==n[d])for(let[c,m]of(n[d]=1,u(Math.min(50,i.length/(t*r)*50)),[[o+1,l],[o-1,l],[o,l+1],[o,l-1],[o+1,l+1],[o+1,l-1],[o-1,l+1],[o-1,l-1]])){if(c<0||c>=t||m<0||m>=r||1===a[m*t+c])continue;let n=4*d,o=(m*t+c)*4,l=e[n]-e[o],u=e[n+1]-e[o+1],h=e[n+2]-e[o+2];Math.sqrt(l*l+u*u+h*h)<2.55*s&&b(i,a,c,m,t)}}return n},b=(e,t,r,s,n)=>{let a=s*n+r;0===t[a]&&(e.push([r,s]),t[a]=1)},x=(e,t,r,s,n,a)=>{let i=document.createElement("canvas");i.width=s,i.height=n;let o=i.getContext("2d");if(!o)return;o.drawImage(t,0,0);let l=o.getImageData(0,0,s,n),d=l.data;for(let e=0;e<n;e++){u(50+e/n*50);for(let t=0;t<s;t++){let n=e*s+t,a=4*n;1===r[n]&&(d[a+3]=0)}}if(o.putImageData(l,0,0),a>0){let t=document.createElement("canvas");t.width=s,t.height=n;let r=t.getContext("2d");if(!r)return;r.drawImage(i,0,0),r.filter=`blur(${a}px)`,r.drawImage(i,0,0),e.clearRect(0,0,s,n),e.drawImage(t,0,0)}else e.clearRect(0,0,s,n),e.drawImage(i,0,0)};return(0,s.jsxs)("div",{className:"max-w-3xl mx-auto p-5 font-sans text-gray-800 leading-relaxed",children:[(0,s.jsx)("h1",{className:"text-center text-3xl font-bold text-blue-600 mb-8",children:"Background Remover"}),(0,s.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-10 text-center cursor-pointer transition-colors hover:border-blue-600",onClick:()=>g.current?.click(),children:[(0,s.jsx)("p",{className:"text-gray-600",children:"Click or drag an image here to upload"}),(0,s.jsx)("input",{title:"Upload Image",ref:g,type:"file",accept:"image/*",onChange:e=>{let r=e.target.files?.[0];if(!r)return;let s=new FileReader;s.onload=e=>{let r=new Image;r.onload=()=>{if(t(r),m.current){let e=m.current.getContext("2d");e&&(m.current.width=r.width,m.current.height=r.height,e.drawImage(r,0,0))}},r.src=e.target?.result},s.readAsDataURL(r)},className:"hidden"})]}),e&&(0,s.jsxs)("div",{className:"bg-gray-50 p-5 rounded-lg mb-5",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Settings"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("label",{htmlFor:"threshold",className:"block mb-2",children:["Sensitivity: ",r]}),(0,s.jsx)("input",{type:"range",id:"threshold",min:"1",max:"100",value:r,onChange:e=>a(parseInt(e.target.value)),className:"w-full"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("label",{htmlFor:"blur",className:"block mb-2",children:["Edge Smoothness: ",i]}),(0,s.jsx)("input",{type:"range",id:"blur",min:"0",max:"10",value:i,onChange:e=>o(parseInt(e.target.value)),className:"w-full"})]})]}),l&&(0,s.jsxs)("div",{className:"relative h-8 bg-gray-100 rounded-lg mt-5 overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute h-full bg-blue-600 rounded-lg transition-all duration-300",style:{width:`${c}%`}}),(0,s.jsxs)("div",{className:"absolute w-full text-center text-white font-bold leading-8 text-shadow",children:["Processing: ",Math.round(c),"%"]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-5 justify-center my-5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Original"}),(0,s.jsx)("canvas",{ref:m,className:`max-w-full h-auto border border-gray-300 rounded-lg ${e?"block":"hidden"}`})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Result"}),(0,s.jsx)("canvas",{ref:h,className:`max-w-full h-auto border border-gray-300 rounded-lg ${e?"block":"hidden"}`})]})]}),(0,s.jsxs)("div",{className:"flex justify-center gap-3 mt-5",children:[(0,s.jsx)("button",{className:`px-4 py-2 rounded-md text-white font-medium transition-colors ${!e||l?"bg-blue-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,onClick:()=>{if(!e||!m.current||!h.current)return;d(!0),u(0);let t=m.current.getContext("2d"),s=h.current.getContext("2d");if(!t||!s)return;h.current.width=e.width,h.current.height=e.height;let n=p(t.getImageData(0,0,e.width,e.height).data,e.width,e.height,r);x(s,e,n,e.width,e.height,i),d(!1),u(100)},disabled:!e||l,children:"Remove Background"}),(0,s.jsx)("button",{className:`px-4 py-2 rounded-md text-white font-medium transition-colors ${!e||l||c<100?"bg-blue-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,onClick:()=>{if(!h.current)return;let e=document.createElement("a");e.download="removed-background.png",e.href=h.current.toDataURL("image/png"),e.click()},disabled:!e||l||c<100,children:"Download Result"})]})]})}},6702:()=>{},6811:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(7025),n=r(8198),a=r(2576),i=r.n(a),o=r(5239),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d={children:["",{children:["bg-remover",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6127)),"/Users/dtorredo/Code/Re-Thing/src/app/bg-remover/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3178))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,8123)),"/Users/dtorredo/Code/Re-Thing/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,4540,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,3117,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,6874,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3178))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/dtorredo/Code/Re-Thing/src/app/bg-remover/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/bg-remover/page",pathname:"/bg-remover",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7393:(e,t,r)=>{Promise.resolve().then(r.bind(r,6669))},8123:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,metadata:()=>d});var s=r(5479),n=r(5948),a=r.n(n),i=r(7258),o=r.n(i),l=r(695);r(6702);let d={title:"Image Uploader",description:"Upload an image and get a bg removed image"};function c({children:e}){return(0,s.jsx)("html",{lang:"en",suppressHydrationWarning:!0,children:(0,s.jsx)("body",{className:`${a().variable} ${o().variable} antialiased`,children:(0,s.jsx)(l.ThemeProvider,{attribute:"class",defaultTheme:"light",enableSystem:!0,disableTransitionOnChange:!0,children:e})})})}},8907:(e,t,r)=>{Promise.resolve().then(r.bind(r,695))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[915,761,540],()=>r(6811));module.exports=s})();